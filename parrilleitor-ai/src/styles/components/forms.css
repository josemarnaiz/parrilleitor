/* Sistema de formularios moderno y accesible */

/* Inputs estándar */
.input {
  @apply w-full px-4 py-2 rounded-lg border border-gray-300 outline-none text-gray-700 bg-white transition-all duration-300;
  min-height: 2.75rem;
}

.input:hover {
  @apply border-gray-400;
}

.input:focus {
  @apply border-primary ring-2 ring-primary/10;
}

.input::placeholder {
  @apply text-gray-400;
}

.input:disabled {
  @apply bg-gray-100 text-gray-500 cursor-not-allowed border-gray-200;
}

/* Tamaños de inputs */
.input-sm {
  @apply px-3 py-1.5 text-sm;
  min-height: 2.25rem;
}

.input-lg {
  @apply px-5 py-3 text-lg;
  min-height: 3.25rem;
}

/* Inputs con iconos */
.input-with-icon {
  @apply relative flex items-center;
}

.input-with-icon .input {
  @apply pl-10;
}

.input-with-icon .icon {
  @apply absolute left-3 text-gray-400;
}

.input-with-icon.icon-right .input {
  @apply pl-4 pr-10;
}

.input-with-icon.icon-right .icon {
  @apply left-auto right-3;
}

/* Grupos de inputs */
.input-group {
  @apply flex items-stretch;
}

.input-group .input {
  @apply rounded-none flex-grow;
}

.input-group .input:first-child {
  @apply rounded-l-lg;
}

.input-group .input:last-child {
  @apply rounded-r-lg;
}

.input-group-addon {
  @apply flex items-center justify-center px-4 bg-gray-100 border border-gray-300 text-gray-700;
}

.input-group-addon:first-child {
  @apply rounded-l-lg border-r-0;
}

.input-group-addon:last-child {
  @apply rounded-r-lg border-l-0;
}

/* Checkboxes y radios mejorados */
.checkbox-container, 
.radio-container {
  @apply flex items-center cursor-pointer;
}

.checkbox, 
.radio {
  @apply relative h-5 w-5 cursor-pointer appearance-none border border-gray-300 transition-all duration-200 checked:border-primary checked:bg-primary checked:border-0;
}

.checkbox {
  @apply rounded-md;
}

.radio {
  @apply rounded-full;
}

.checkbox:focus, 
.radio:focus {
  @apply outline-none ring-2 ring-primary/20;
}

.checkbox:checked::before {
  content: '✓';
  @apply absolute inset-0 flex items-center justify-center text-white text-sm font-bold;
}

.radio:checked::before {
  content: '';
  @apply absolute top-1/2 left-1/2 h-2.5 w-2.5 rounded-full bg-white transform -translate-x-1/2 -translate-y-1/2;
}

.checkbox-label, 
.radio-label {
  @apply ml-2 text-gray-700;
}

/* Switch toggle */
.switch {
  @apply relative inline-block h-6 w-11;
}

.switch input {
  @apply opacity-0 w-0 h-0;
}

.slider {
  @apply absolute cursor-pointer inset-0 bg-gray-300 rounded-full transition-all duration-300;
}

.slider:before {
  content: '';
  @apply absolute h-5 w-5 left-0.5 bottom-0.5 bg-white rounded-full transition-all duration-300;
}

input:checked + .slider {
  @apply bg-primary;
}

input:focus + .slider {
  @apply ring-2 ring-primary/20;
}

input:checked + .slider:before {
  transform: translateX(1.25rem);
}

/* Form group */
.form-group {
  @apply mb-4;
}

.form-label {
  @apply block mb-1 text-sm font-medium text-gray-700;
}

.form-hint {
  @apply block mt-1 text-xs text-gray-500;
}

.form-error {
  @apply block mt-1 text-xs text-red-500;
}

.form-group-col-2 {
  @apply grid grid-cols-1 md:grid-cols-2 gap-4;
}

/* Estilos de validación */
.input.is-valid {
  @apply border-green-500 pr-10;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2322c55e' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 1rem;
}

.input.is-invalid {
  @apply border-red-500 pr-10;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12'%3e%3cpath fill='none' stroke='%23ef4444' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M6 6h.01M6 3h.01'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 1rem;
}

/* Textarea */
.textarea {
  @apply w-full px-4 py-2 rounded-lg border border-gray-300 outline-none text-gray-700 bg-white transition-all duration-300;
  min-height: 5rem;
  resize: vertical;
}

.textarea:hover {
  @apply border-gray-400;
}

.textarea:focus {
  @apply border-primary ring-2 ring-primary/10;
}

/* Select */
.select {
  @apply w-full px-4 py-2 rounded-lg border border-gray-300 outline-none text-gray-700 bg-white appearance-none transition-all duration-300;
  min-height: 2.75rem;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.75rem center;
  background-repeat: no-repeat;
  background-size: 1rem;
  padding-right: 2.5rem;
}

.select:hover {
  @apply border-gray-400;
}

.select:focus {
  @apply border-primary ring-2 ring-primary/10;
}

/* Range slider */
.range {
  @apply w-full cursor-pointer appearance-none bg-transparent;
  height: 1.5rem;
}

.range::-webkit-slider-runnable-track {
  @apply w-full h-2 bg-gray-200 rounded-full;
}

.range::-webkit-slider-thumb {
  @apply appearance-none w-5 h-5 rounded-full bg-primary border-0 cursor-pointer;
  margin-top: -0.375rem;
}

.range:focus {
  @apply outline-none;
}

.range:focus::-webkit-slider-thumb {
  @apply ring-2 ring-primary/30;
}

/* Media query para dispositivos móviles */
@media (max-width: 640px) {
  .input, .textarea, .select {
    @apply text-base;
    font-size: 16px !important; /* Evita el zoom automático en iOS */
  }
  
  .input-sm {
    @apply text-sm;
  }
  
  .form-group-col-2 {
    @apply grid-cols-1 gap-3;
  }
}

/* Status indicators */
.status {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.5rem;
  border-radius: 1rem;
  font-size: 0.75rem;
  font-weight: 500;
}

.status-success {
  background-color: rgba(25, 135, 84, 0.1);
  color: #198754;
}

.status-pending {
  background-color: rgba(255, 193, 7, 0.1);
  color: #ffc107;
}

.status-error {
  background-color: rgba(220, 53, 69, 0.1);
  color: #dc3545;
}

/* Estilos para formularios y controles de entrada */

/* Contenedor de formulario */
.form-container {
  width: 100%;
  max-width: 32rem;
  margin: 0 auto;
}

.form-group {
  margin-bottom: 1.5rem;
}

.form-group:last-child {
  margin-bottom: 0;
}

/* Etiquetas de formulario */
.form-label {
  display: block;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--gray-700);
}

.form-label.required::after {
  content: '*';
  color: var(--error-500);
  margin-left: 0.25rem;
}

/* Campos de entrada básicos */
.form-input,
.form-select,
.form-textarea {
  width: 100%;
  padding: 0.625rem 0.75rem;
  border: 1px solid var(--gray-300);
  border-radius: var(--radius);
  font-size: 0.875rem;
  line-height: 1.5;
  color: var(--gray-900);
  background-color: white;
  transition: var(--transition-all);
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
  outline: none;
  border-color: var(--primary-400);
  box-shadow: 0 0 0 2px var(--primary-100);
}

.form-input:disabled,
.form-select:disabled,
.form-textarea:disabled {
  background-color: var(--gray-100);
  opacity: 0.7;
  cursor: not-allowed;
}

.form-input::placeholder,
.form-textarea::placeholder {
  color: var(--gray-400);
}

/* Tamaños de campos */
.form-input-sm,
.form-select-sm {
  padding: 0.375rem 0.5rem;
  font-size: 0.75rem;
}

.form-input-lg,
.form-select-lg {
  padding: 0.75rem 1rem;
  font-size: 1rem;
}

/* Textarea de varias líneas */
.form-textarea {
  min-height: 6rem;
  resize: vertical;
}

/* Select personalizado */
.form-select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.75rem center;
  background-repeat: no-repeat;
  background-size: 1.25rem;
  padding-right: 2.5rem;
}

/* Checkbox y Radio personalizados */
.form-checkbox,
.form-radio {
  display: flex;
  align-items: center;
  position: relative;
  cursor: pointer;
  padding-left: 1.75rem;
  margin-bottom: 0.75rem;
  user-select: none;
}

.form-checkbox input,
.form-radio input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.form-checkbox-mark {
  position: absolute;
  top: 0;
  left: 0;
  height: 1.125rem;
  width: 1.125rem;
  background-color: white;
  border: 1px solid var(--gray-300);
  border-radius: var(--radius-sm);
  transition: var(--transition-all);
}

.form-radio-mark {
  position: absolute;
  top: 0;
  left: 0;
  height: 1.125rem;
  width: 1.125rem;
  background-color: white;
  border: 1px solid var(--gray-300);
  border-radius: 50%;
  transition: var(--transition-all);
}

.form-checkbox:hover input ~ .form-checkbox-mark,
.form-radio:hover input ~ .form-radio-mark {
  border-color: var(--gray-400);
}

.form-checkbox input:checked ~ .form-checkbox-mark,
.form-radio input:checked ~ .form-radio-mark {
  background-color: var(--primary);
  border-color: var(--primary);
}

.form-checkbox-mark:after,
.form-radio-mark:after {
  content: "";
  position: absolute;
  display: none;
}

.form-checkbox input:checked ~ .form-checkbox-mark:after,
.form-radio input:checked ~ .form-radio-mark:after {
  display: block;
}

.form-checkbox .form-checkbox-mark:after {
  left: 6px;
  top: 2px;
  width: 4px;
  height: 8px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.form-radio .form-radio-mark:after {
  left: 4px;
  top: 4px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: white;
}

/* Grupo de checkboxes o radios */
.form-check-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.form-check-group.horizontal {
  flex-direction: row;
  gap: 1.5rem;
}

/* Switch toggle */
.form-switch {
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
}

.form-switch-input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.form-switch-slider {
  position: relative;
  display: inline-block;
  width: 36px;
  height: 20px;
  background-color: var(--gray-300);
  border-radius: 34px;
  transition: var(--transition-all);
}

.form-switch-slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  border-radius: 50%;
  transition: var(--transition-all);
}

.form-switch-input:checked + .form-switch-slider {
  background-color: var(--primary);
}

.form-switch-input:checked + .form-switch-slider:before {
  transform: translateX(16px);
}

.form-switch-label {
  margin-left: 0.75rem;
  font-size: 0.875rem;
  color: var(--gray-700);
}

/* Estados de validación */
.form-group.has-error .form-label {
  color: var(--error-500);
}

.form-group.has-error .form-input,
.form-group.has-error .form-select,
.form-group.has-error .form-textarea {
  border-color: var(--error-500);
}

.form-group.has-error .form-input:focus,
.form-group.has-error .form-select:focus,
.form-group.has-error .form-textarea:focus {
  box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);
}

.form-error-message {
  display: block;
  margin-top: 0.375rem;
  font-size: 0.75rem;
  color: var(--error-500);
}

.form-group.has-success .form-input,
.form-group.has-success .form-select,
.form-group.has-success .form-textarea {
  border-color: var(--success-500);
}

.form-group.has-success .form-input:focus,
.form-group.has-success .form-select:focus,
.form-group.has-success .form-textarea:focus {
  box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
}

/* Campo con ícono */
.form-input-with-icon {
  position: relative;
}

.form-input-icon {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  color: var(--gray-500);
  pointer-events: none;
}

.form-input-icon-left {
  left: 0.75rem;
}

.form-input-icon-right {
  right: 0.75rem;
}

.form-input-with-icon-left .form-input {
  padding-left: 2.5rem;
}

.form-input-with-icon-right .form-input {
  padding-right: 2.5rem;
}

/* Input con contador de caracteres */
.form-input-with-counter {
  position: relative;
}

.form-input-counter {
  position: absolute;
  right: 0.75rem;
  bottom: -1.25rem;
  font-size: 0.75rem;
  color: var(--gray-500);
}

.form-input-counter.is-limit {
  color: var(--warning-500);
}

.form-input-counter.is-exceeded {
  color: var(--error-500);
}

/* Campo con botón adjunto */
.form-input-with-button {
  display: flex;
}

.form-input-with-button .form-input {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-right: none;
}

.form-input-with-button .btn {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}

/* Grupo de campos */
.form-row {
  display: flex;
  margin-left: -0.5rem;
  margin-right: -0.5rem;
}

.form-col {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
  flex: 1;
}

/* Campo de búsqueda */
.form-search {
  position: relative;
}

.form-search-input {
  padding-left: 2.5rem;
  padding-right: 2.5rem;
}

.form-search-icon-left {
  position: absolute;
  left: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--gray-400);
}

.form-search-clear {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--gray-400);
  cursor: pointer;
  background: none;
  border: none;
  padding: 0;
  font-size: 1rem;
  line-height: 1;
}

.form-search-clear:hover {
  color: var(--gray-700);
}

/* Campo de fecha */
.form-date-input {
  position: relative;
}

.form-date-input input[type="date"] {
  appearance: none;
}

.form-date-input input[type="date"]::-webkit-calendar-picker-indicator {
  background: transparent;
  bottom: 0;
  color: transparent;
  cursor: pointer;
  height: auto;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  width: auto;
}

.form-date-input .form-input {
  padding-right: 2.5rem;
}

.form-date-icon {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--gray-400);
  pointer-events: none;
}

/* Estilos responsivos */
@media (max-width: 640px) {
  .form-row {
    flex-direction: column;
  }
  
  .form-col {
    width: 100%;
    margin-bottom: 1rem;
  }
  
  .form-col:last-child {
    margin-bottom: 0;
  }
  
  .form-check-group.horizontal {
    flex-direction: column;
    gap: 0.5rem;
  }
}

/* Modo oscuro */
.dark .form-label {
  color: var(--gray-300);
}

.dark .form-input,
.dark .form-select,
.dark .form-textarea {
  background-color: var(--gray-800);
  border-color: var(--gray-700);
  color: var(--gray-200);
}

.dark .form-input:focus,
.dark .form-select:focus,
.dark .form-textarea:focus {
  border-color: var(--primary-400);
  box-shadow: 0 0 0 2px rgba(var(--primary-400), 0.2);
}

.dark .form-input:disabled,
.dark .form-select:disabled,
.dark .form-textarea:disabled {
  background-color: var(--gray-900);
}

.dark .form-input::placeholder,
.dark .form-textarea::placeholder {
  color: var(--gray-500);
}

.dark .form-checkbox-mark,
.dark .form-radio-mark {
  background-color: var(--gray-800);
  border-color: var(--gray-600);
}

.dark .form-checkbox:hover input ~ .form-checkbox-mark,
.dark .form-radio:hover input ~ .form-radio-mark {
  border-color: var(--gray-500);
}

.dark .form-switch-slider {
  background-color: var(--gray-600);
}

.dark .form-switch-label {
  color: var(--gray-300);
}

.dark .form-input-icon,
.dark .form-search-icon-left,
.dark .form-search-clear,
.dark .form-date-icon {
  color: var(--gray-500);
} 